{"version":3,"sources":["page/Hall.js"],"names":["Halls","React","memo","props","lang","app","_useState","useState","coords","_useState2","Object","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","hall","setHall","_useState3","_useState4","size","setSize","useEffect","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","data","wrap","_context","prev","next","getOther","name","location","pathname","split","undefined","sent","_id","mainWindow","current","offsetWidth","history","push","window","reload","stop","this","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_9__","charSet","nameRu","nameKg","property","content","react_yandex_maps__WEBPACK_IMPORTED_MODULE_8__","className","src","imageThumbnail","onLoad","e","target","includes","image","address","height","width","defaultState","center","zoom","connect","state","dispatch","appActions","bindActionCreators"],"mappings":"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","file":"static/js/10.c3c65f3b.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getOther } from '../redux/actions/app'\r\nimport { connect } from 'react-redux'\r\nimport * as appActions from '../redux/actions/app'\r\nimport { bindActionCreators } from 'redux'\r\nimport { mainWindow } from '../App';\r\nimport { Map, YMaps } from 'react-yandex-maps';\r\nimport {Helmet} from 'react-helmet';\r\n\r\nconst Halls =  React.memo(\r\n    (props) =>{\r\n        const { lang } = props.app;\r\n        let [hall, setHall] = useState({coords: ''});\r\n        let [size, setSize] = useState(600);\r\n        useEffect(async ()=>{\r\n            let data = await getOther({name: 'ПлощадкаПоИмени', data: {name: props.location.pathname.split('/')[2]}})\r\n            if(data._id!=undefined){\r\n                await setHall(data)\r\n                setSize(mainWindow.current.offsetWidth>1000? [1000, 300]: [mainWindow.current.offsetWidth, 300])\r\n            } else {\r\n                props.history.push('/');\r\n                window.location.reload();\r\n            }\r\n        },[]);\r\n        return (\r\n            <>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>{lang==='ru'? hall.nameRu : hall.nameKg}</title>\r\n                <meta property=\"og:title\" content={lang==='ru'? hall.nameRu : hall.nameKg} />\r\n            </Helmet>\r\n            <YMaps>\r\n            <main className='main main-halls'>\r\n                <div className='container'>\r\n                    <div className='row'>\r\n                        <div className='col-12 heading'>\r\n                            <div className='heading-title_wrap heading-title_wrap-halls'>\r\n                                <h2>\r\n                                    <span>{lang==='ru'? 'Место' : 'Орун'}</span>\r\n                                </h2>\r\n                            </div>\r\n                            <div className='heading-title_line' />\r\n                        </div>{/* \\-heading*/}\r\n                    </div>{/* \\-row */}\r\n                    <div className='row'>\r\n                        <div className='col-12'>\r\n                                    <div className='hall'>\r\n                                        <img className='hall_image' src={hall.imageThumbnail} onLoad={(e)=>{if(e.target.src.includes('thumbnail')){e.target.src=hall.image}}}/>\r\n                                        <div className='hall_title'>{lang==='ru'? hall.nameRu : hall.nameKg}</div>\r\n                                        <div className='hall_address-text'>{lang==='ru'? 'Адрес' : 'Дарек'}</div>\r\n                                        <div className='hall_address'>{hall.address}</div>\r\n                                        <div className='hall_map'>\r\n                                            <Map height={size[1]} width={size[0]} defaultState={{ center: hall.coords.split(', '), zoom: 16 }} />\r\n                                        </div>\r\n                                        <hr />\r\n                                    </div>\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n            </YMaps>\r\n            </>\r\n        );\r\n    }\r\n)\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        app: state.app\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        appActions: bindActionCreators(appActions, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Halls);\r\n"],"sourceRoot":""}