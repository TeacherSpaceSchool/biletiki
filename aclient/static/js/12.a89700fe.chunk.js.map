{"version":3,"sources":["page/History.js"],"names":["History","React","memo","props","lang","app","user","authenticated","history","push","_useState","useState","_useState2","Object","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","tickets","setTickets","useEffect","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","data","wrap","_context","prev","next","document","title","getSecure","name","undefined","sent","stop","this","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","className","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","map","element","idx","console","log","status","key","target","href","ticket","style","marginLeft","src","image","alt","event","where","seats","element1","date","split","time","dateTime","month","price","connect","state","dispatch","appActions","bindActionCreators"],"mappings":"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","file":"static/js/12.a89700fe.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getSecure } from '../redux/actions/app'\r\nimport { connect } from 'react-redux'\r\nimport * as appActions from '../redux/actions/app'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { month } from '../redux/constants/other'\r\n\r\nconst History =  React.memo(\r\n    (props) =>{\r\n        const { lang } = props.app;\r\n        const { authenticated } = props.user;\r\n        if(!authenticated) props.history.push('/');\r\n        let [tickets, setTickets] = useState([]);\r\n        useEffect(()=>{(async ()=>{\r\n            document.title = 'Заказы мероприятия'\r\n            let data = await getSecure({name: 'История'});\r\n            if(data!=undefined)\r\n                await setTickets(data);\r\n        })()},[]);\r\n        return (\r\n            <>\r\n            <div className='main-buy page-profile'>\r\n                <div className='container'>\r\n                    <div className='row'>\r\n                        <div className='col-12'>\r\n                            <ul className='nav page-menu'>\r\n                                <li><Link to='/profile'>{lang==='ru'? 'Профиль' : 'Профиль'}</Link></li>\r\n                                <li className='active'><a>{lang==='ru'? 'Заказы мероприятия' : 'Буйруктар ченөө'}</a></li>\r\n                                <li><Link to='/historycinema'>{lang==='ru'? 'Заказы кино' : 'Буйруктар кино'}</Link></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {tickets.map((element, idx) => {\r\n                        console.log(element.status)\r\n                        return (\r\n                            <div  key={idx}>\r\n                                <div className='row1'>\r\n                                <div className='col-12 col-md-8 '>\r\n                                    <div className='tickets-list'>\r\n                                        <div className='ticket-order'>\r\n                                            <div className='inner'>\r\n                                                <a  target='_blank' href={element.ticket}>{lang==='ru'? 'Скачать билет' : 'Скачать билет'}\r\n                                                </a>\r\n                                                <div className='right'>\r\n                                                    <div className='ticket-status wait' style={{marginLeft: '50px'}} >{element.status}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='ticket'>\r\n                                            <div className='ticket-body'>\r\n                                                <div className='img'>\r\n                                                    <img src={element.image} alt=\"'kassir.kg\" />\r\n                                                </div>\r\n                                                <div className='detail'>\r\n                                                    <div className='name'>{element.event}</div>\r\n                                                    <div className='marker'>\r\n                                                        <i className='icon icon-marker' />\r\n                                                        <span>{lang==='ru'? 'Место' : 'Место'}:</span> {element.where}\r\n                                                    </div>\r\n                                                    <div className='places'>\r\n                                                        <i className='icon icon-ticket' />\r\n                                                        <span>{lang==='ru'? 'Билеты' : 'Билеты'}</span>\r\n                                                        <ul>\r\n                                                            {element.seats.map((element1, idx) => {\r\n                                                                if(element1!==undefined&&element1[0]!==undefined&&typeof element1==='object') {\r\n                                                                    let date = element1[1].split('T')[0].split('-')\r\n                                                                    let time = element1[1].split('T')[1].split(':')\r\n                                                                    let dateTime = date[2] + ' ' + month[date[1]] + ' ' + date[0] + ', ' + time[0] + ':' + time[1];\r\n                                                                    return (\r\n                                                                        <li key={idx}>\r\n                                                                            <div\r\n                                                                                className='place-desc'>{lang === 'ru' ? 'Место' : 'Орун'}:\r\n                                                                            </div>\r\n                                                                            <div\r\n                                                                                className='place-price'>{element1[0].name}</div>\r\n                                                                            <div\r\n                                                                                className='place-desc'>{lang === 'ru' ? 'Цена' : 'Баа'}:\r\n                                                                            </div>\r\n                                                                            <div\r\n                                                                                className='place-price'>{element1[0].price}\r\n                                                                                сом\r\n                                                                            </div>\r\n                                                                            <div\r\n                                                                                className='place-desc'>{lang === 'ru' ? 'Дата' : 'Дата'}:\r\n                                                                            </div>\r\n                                                                            <div\r\n                                                                                className='place-price'>{dateTime}</div>\r\n                                                                        </li>\r\n                                                                    )\r\n                                                                }\r\n                                                            })}\r\n                                                        </ul>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n                            <br/>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n)\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        app: state.app,\r\n        user: state.user,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        appActions: bindActionCreators(appActions, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);\r\n"],"sourceRoot":""}