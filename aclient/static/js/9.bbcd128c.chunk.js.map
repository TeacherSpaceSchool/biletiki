{"version":3,"sources":["page/Cinema.js"],"names":["Cinema","React","memo","props","lang","app","_useState","useState","_useState2","Object","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","soon","setSoon","_useState3","_useState4","now","setNow","document","title","getNow","_ref","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","_now","data","wrap","_context","prev","next","getOther","name","skip","length","sent","filter","element","_id","concat","console","log","stop","this","apply","arguments","useEffect","_callee2","_context2","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","className","map","idx","key","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","onClick","scrollToTop","to","data-src","imageThumbnail","alt","genre","connect","state","dispatch","appActions","bindActionCreators"],"mappings":"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","file":"static/js/9.bbcd128c.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getOther } from '../redux/actions/app'\r\nimport { connect } from 'react-redux'\r\nimport * as appActions from '../redux/actions/app'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { scrollToTop } from '../App'\r\n\r\nconst Cinema = React.memo(\r\n    (props) =>{\r\n        const { lang } = props.app;\r\n        let [soon, setSoon] = useState([]);\r\n        let [now, setNow] = useState([]);\r\n        document.title = 'Кино'\r\n        let getNow = async () => {\r\n            let _now = now;\r\n            let data = await getOther({name: 'КиноСейчас', data: {skip: _now.length}});\r\n            if(data.length>0&&_now.filter(element => element._id === data[0]._id).length===0){\r\n                _now = _now.concat(data);\r\n                console.log(_now)\r\n                setNow(_now);\r\n            }\r\n        }\r\n        useEffect(()=>{(async ()=>{\r\n            let data = await getOther({name: 'КиноСкоро'});\r\n            setSoon(data);\r\n            data = await getOther({name: 'КиноСейчас', data: {skip: 0}});\r\n            setNow(data);\r\n        })()},[]);\r\n        return (\r\n            <>\r\n                <main className='main main-kino'>\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                            <div className='col-xl-12 heading'>\r\n                                <div className='heading-title_wrap heading-title_wrap-kino'>\r\n                                    <h2>\r\n                                        <span>{lang==='ru'? 'Сегодня в кино' : 'Кинотеатрында бүгүн'}</span>\r\n                                    </h2>\r\n                                </div>\r\n                                <div className='heading-title_line' />\r\n                            </div>{/* \\-heading*/}\r\n                        </div>{/* \\-row */}\r\n                        <div className='movies'>\r\n                            <div className='row movies-row'>\r\n                                {now.length>0?now.map((element,idx) => {\r\n                                    return(\r\n                                        <div className='col-12 col-sm-4 col-md-3 movie-wrap' key={idx}>\r\n                                            <div className='movie'>\r\n                                                <div className='movie_image'>\r\n                                                    <Link onClick={()=>{scrollToTop()}} to={'/movie/'+element.name}>\r\n                                                            <img className='lozad' data-src={element.imageThumbnail} alt=\"'kassir.kg\" />\r\n                                                    </Link>\r\n                                                </div>\r\n                                                <div className='movie-info'>\r\n                                                    <div className='movie_title'>\r\n                                                        <Link onClick={()=>{scrollToTop()}} to={'/movie/'+element.name}>\r\n                                                           {element.name}\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                    <div className='movie_genre'>\r\n                                                        {element.genre}\r\n                                                    </div>\r\n                                                    <div className='movie_country'>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }):null}\r\n                            </div>\r\n                        </div>\r\n                        <div className='row load-more-wrap'>\r\n                            <div className='load-more-wrap'>\r\n                                <div className='col-12 load-more'>\r\n                                    <i className='load-more_loader load_more_loader_kino' />\r\n                                    <div className='load-more_text-cinema' onClick={()=>{getNow()}}>{lang==='ru'? 'Загрузить еще' : 'Дагы'}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row link-baner-wrap'>\r\n                            <div className='col-12'>\r\n                                <div className='link-baner'>\r\n                                        <img className='lozad' data-src='./img/movies-img/link-baner.jpg' alt=\"'kassir.kg\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col-xl-12 heading'>\r\n                                <div className='heading-title_wrap heading-title_wrap-kino'>\r\n                                    <h2>\r\n                                        <span>{lang==='ru'? 'Скоро в кино' : 'Киного жакында'}</span>\r\n                                    </h2>\r\n                                </div>\r\n                                <div className='heading-title_line' />\r\n                            </div>{/* \\-heading*/}\r\n                        </div>{/* \\-row */}\r\n                        <div className='movies'>\r\n                            <div className='row movies-row'>\r\n                                {soon.length>0?soon.map((element, idx) => {\r\n                                    return(\r\n                                    <div className='col-12 col-sm-4 col-md-3 movie-wrap' key={idx}>\r\n                                        <div className='movie'>\r\n                                            <div className='movie_image'>\r\n                                                    <img className='lozad' data-src={element.imageThumbnail} alt=\"'kassir.kg\" />\r\n                                            </div>\r\n                                            <div className='movie-info'>\r\n                                                <div className='movie_title'>\r\n                                                   {element.name}\r\n                                                </div>\r\n                                                <div className='movie_genre'>\r\n                                                    {element.genre}\r\n                                                </div>\r\n                                                <div className='movie_country'>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    )\r\n                                }):null}\r\n                            </div>\r\n                        </div>{/* \\-movies*/}\r\n                    </div>\r\n                </main>\r\n            </>\r\n            );\r\n    })\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        app: state.app\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        appActions: bindActionCreators(appActions, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cinema);\r\n"],"sourceRoot":""}