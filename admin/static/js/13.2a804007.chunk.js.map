{"version":3,"sources":["pages/Cashbox.js","../node_modules/react-router-dom/es/Link.js"],"names":["width","mainWindow","current","offsetWidth","withStyles","theme","button","margin","spacing","unit","textFieldSmall","marginLeft","marginRight","textField","urls","maxHeight","overflow","image","maxWidth","message","marginTop","marginBottom","connect","state","table","user","dispatch","tableActions","bindActionCreators","props","_props$tableActions","setSelected","status","addData","_useState","useState","_useState2","Object","C_projects_biletiki_biletiki_admin_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","whereComponent","setWhereComponent","classes","useEffect","C_projects_biletiki_biletiki_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_biletiki_biletiki_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","t0","setCities","getDataSimple","name","t1","sent","stop","this","_useState3","_useState4","cities","_useState5","_useState6","city","setCity","_useState7","_useState8","events","setEvents","_useState9","_useState10","block","setBlock","_useState11","descriptionRu","where","date","_useState12","_event","_setEvent","handleCity","_ref2","_callee2","event","_context2","target","value","data","handleEvent","_x","apply","arguments","_useState13","_useState14","seats","setSeats","addSeats","seat","del","_seats","index","find","element","position","JSON","stringify","splice","push","_ref3","_callee3","_context3","Array","isArray","undefined","split","setDate","getWhere","price","_x2","_useState15","_useState16","handleDate","_ref4","_callee4","_context4","_x3","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9___default","select","SelectProps","MenuProps","className","menu","label","type","onChange","map","option","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","key","_id","nameRu","Fragment","src","imageThumbnail","onLoad","e","includes","genre","ageCategory","length","Date","to","onClick","_callee5","_event_","i","keys","i1","i2","i3","_i","ticket","seats1","ii","_context5","eventId","without","addDataSimple","search","sort","page","id","window","open","parse","alert","location","reload","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11___default","variant","color","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","invariant__WEBPACK_IMPORTED_MODULE_2__","invariant__WEBPACK_IMPORTED_MODULE_2___default","history__WEBPACK_IMPORTED_MODULE_3__","_extends","assign","source","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","Link","_React$Component","_temp","_this","instance","Constructor","TypeError","_classCallCheck","_len","args","_key","concat","handleClick","defaultPrevented","preventDefault","history","context","router","_this$props","replace","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","obj","indexOf","_objectWithoutProperties","href","createHref","ref","Component","propTypes","func","string","bool","oneOfType","object","isRequired","defaultProps","contextTypes","shape","__webpack_exports__"],"mappings":"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","file":"static/js/13.2a804007.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { getDataSimple, addDataSimple } from '../redux/actions/table'\nimport { getWhere } from '../component/Where/index'\nimport * as tableActions from '../redux/actions/table'\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom'\nimport { mainWindow } from '../App'\nconst width = mainWindow.current.offsetWidth>800? 500: 240;\n\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing.unit,\n    },\n    textFieldSmall: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: width,\n    },\n    textField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: width\n    },\n    urls: {\n        margin: theme.spacing.unit,\n        width: width,\n        maxHeight: 100,\n        overflow: 'auto'\n    },\n    image: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        maxWidth: 500,\n        maxHeight: 500\n    },\n    message: {\n        width: width,\n        marginTop: theme.spacing.unit,\n        marginBottom: theme.spacing.unit,\n        marginLeft: 'calc((100% - '+width+'px)/2)',\n        marginRight: 'calc((100% - '+width+'px)/2)'\n    },\n});\n\nconst Cashbox = (\n    (props) =>{\n        const { setSelected, addData } = props.tableActions;\n        const { status } = props.user;\n        let [whereComponent, setWhereComponent] = useState(null);\n        const { classes } = props;\n        useEffect(()=>{(async()=>{\n            /*if (!(status.status==='active'&&['admin', 'manager', 'cashier', 'organizator'].includes(status.role))) {\n                props.history.push('/')\n            }*/\n            await setCities(await getDataSimple({name: 'Города'}));\n        })()},[])\n        let [cities, setCities] = useState([]);\n        let [city, setCity] = useState('');\n        let [events, setEvents] = useState([]);\n        let [block, setBlock] = useState(false);\n        let [_event, _setEvent] = useState({descriptionRu: '', where: {}, date: []});\n        let handleCity = async(event) => {\n            setCity(event.target.value)\n            setEvents(await getDataSimple({name: 'СобытиеГород', data: {city: event.target.value}}));\n            handleEvent({target: {value: {descriptionRu: '', where: {}, date: []}}})\n        };\n        let [seats, setSeats] = useState([]);\n        let addSeats = (seat, del) => {\n            let _seats = seats;\n\n            let index = -1;\n            _seats.find((element, position)=>{\n                if(JSON.stringify(element)===JSON.stringify(seat))\n                    index = position\n            });\n            if (!del)\n                _seats.push(seat);\n            else\n                _seats.splice(index, 1);\n            setSeats(_seats)\n        }\n        let handleEvent = async(event) => {\n            // se tS ea ts ([ ])\n            let _event = event.target.value;\n            if(!Array.isArray(_event.descriptionRu)&&_event.descriptionRu!==undefined)\n                _event.descriptionRu = _event.descriptionRu.split('|');\n            await _setEvent(_event)\n            await setDate(_event.date[0])\n            await setWhereComponent(undefined);\n            await setWhereComponent(await getWhere(_event.where.name, _event.where.data, handleEvent, _event.price, _event.date[0], true, addSeats, event.target.value));\n        };\n        let [date, setDate] = useState('');\n        let handleDate = async (event) => {\n            setDate(event.target.value);\n            await setWhereComponent(await getWhere(_event.where.name, _event.where.data, handleEvent, _event.price, event.target.value, true, addSeats, _event));\n        };\n        useEffect(()=>{\n            setSeats([])\n        },[_event.descriptionRu]);\n        return (\n            <div>\n                <TextField\n                    select\n                    SelectProps={{\n                        MenuProps: {\n                            className: classes.menu,\n                        },\n                    }}\n                    label='город'\n                    type='login'\n                    className={classes.textField}\n                    margin='normal'\n                    value={city}\n                    onChange={handleCity}\n                >\n                    {cities != undefined?\n                        cities.map(option => (\n                            <MenuItem key={option} value={option}>\n                                {option}\n                                </MenuItem>\n                        ))\n                        :\n                        null\n                    }\n                </TextField>\n                <br/>\n                <TextField\n                    select\n                    SelectProps={{\n                        MenuProps: {\n                            className: classes.menu,\n                        },\n                    }}\n                    label='событие'\n                    type='login'\n                    className={classes.textField}\n                    margin='normal'\n                    value={_event}\n                    onChange={handleEvent}\n                >\n                    {events != undefined?\n                        events.map(option => {\n                            return (<MenuItem key={option._id} value={option}>\n                                {option.nameRu}\n                            </MenuItem>)\n                        })\n                        :\n                        null\n                    }\n                </TextField>\n                <br/>\n                {_event.nameRu!==undefined?\n                    <>\n                    <br/>\n                    <img className={classes.image} src={_event.imageThumbnail} onLoad={(e)=>{if(e.target.src.includes('thumbnail')){e.target.src=_event.image}}}/>\n                    <br/>\n                    <br/>\n                    <div><b>Жанр: </b>{_event.genre}</div><br/>\n                    <div><b>Возраст: </b>{_event.ageCategory}</div>\n                    <br/>\n                    <b>Описание</b>\n                    <br/>\n                    <div className={classes.message}>\n                        {(_event.descriptionRu).map((element) => {\n                            return <>{element}</>\n                        })}\n                    </div>\n                    <br/>\n                    <b>Где</b>\n                    <br/>\n                    {_event.where.name}\n                    <br/>\n                    <br/>\n                    {_event.date.length>0?\n                        <TextField\n                            select\n                            SelectProps={{\n                                MenuProps: {\n                                    className: classes.menu,\n                                },\n                            }}\n                            label='дата'\n                            type='login'\n                            className={classes.textField}\n                            margin='normal'\n                            value={date}\n                            onChange={handleDate}\n                        >\n                            {\n                                _event.date.map(option => {\n                                    if(new Date(option+':00.000Z')>new Date())\n                                    return (\n                                        <MenuItem key={option} value={option}>\n                                            {option}\n                                        </MenuItem>\n                                    )\n                                })\n                            }\n                        </TextField>\n                        :\n                        null\n                    }\n                    <br/>\n                    {whereComponent!==undefined?whereComponent:null}\n                    {seats.length>0?\n                        seats.map(option => {\n                            return(\n                            <>\n                            <b>Место:</b>&nbsp;{option[0].name}&nbsp;<b>Общая цена:</b>&nbsp;{option[0].price}&nbsp;сом&nbsp;<b>Дата:</b>&nbsp;{option[1]}\n                            <br/>\n                            </>)\n                        }):null}\n                    <br/>\n                    <br/>\n                    <div>\n                        <div className='link' to={''} onClick={async ()=>{\n                            if(!block&&seats.length>0) {\n                                setBlock(true)\n                                let free = await getDataSimple({name: 'ПроверитьМеста', data: {eventId: _event._id, seats: seats}})\n                                if(free) {\n                                    let _event_ = _event;\n                                    if (!_event_.where.data[_event_.date[0]].without) {\n                                        for (let i = 0; i < _event_.date.length; i++) {\n                                            let keys = Object.keys(_event_.where.data[_event_.date[i]]);\n                                            for (let i1 = 0; i1 < keys.length; i1++) {\n                                                for (let i2 = 0; i2 < _event_.where.data[_event_.date[i]][keys[i1]].length; i2++) {\n                                                    for (let i3 = 0; i3 < _event_.where.data[_event_.date[i]][keys[i1]][i2].length; i3++) {\n                                                        if (_event_.where.data[_event_.date[i]][keys[i1]][i2][i3].status === 'hold')\n                                                            _event_.where.data[_event_.date[i]][keys[i1]][i2][i3].status = 'sold'\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                    for (let i = 0; i < seats.length; i++) {\n                                        let ticket = await addDataSimple({\n                                            search: '',\n                                            sort: '',\n                                            page: 0,\n                                            name: 'Билеты',\n                                            data: {user: status.id, event: _event_, status: 'продан', seats: [seats[i]]}\n                                        });\n                                        window.open(ticket, '_blank');\n\n                                    }\n                                    let seats1 = JSON.parse(JSON.stringify(seats))\n                                    for (let ii = 0; ii < seats1.length; ii++) {\n                                        addSeats(seats1[ii], true)\n                                    }\n                                    await handleEvent({target: {value: _event}})\n                                } else {\n                                    alert('Извините выбранные вами места заняты!!!')\n                                    window.location.reload()\n                                }\n                                setBlock(false)\n                            }\n                            }}>\n                            <Button variant='contained' color='primary' className={classes.button}>\n                                Купить\n                            </Button>\n                        </div>\n                        <Link className='link' to={''} onClick={()=>{setSelected(-1);}}>\n                            <Button variant='contained' color='secondary' className={classes.button}>\n                                Отмена\n                            </Button>\n                        </Link>\n                    </div>\n                    </>\n                    :\n                    null\n                }\n                <br/>\n            </div>\n        );\n  })\n\nfunction mapStateToProps (state) {\n    return {\n        table: state.table,\n        user: state.user,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        tableActions: bindActionCreators(tableActions, dispatch),\n    }\n}\n\nCashbox.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(Cashbox));\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;"],"sourceRoot":""}