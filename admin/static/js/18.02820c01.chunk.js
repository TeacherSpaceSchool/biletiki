(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{185:function(e,a,t){"use strict";t.r(a);var n=t(191),r=t(8),i=t.n(r),c=t(14),l=t(0),o=t.n(l),s=t(195),u=t(21),p=t(12),d=t(192),m=t(196),h=t.n(m),f=t(198),g=t.n(f),b=t(197),v=t.n(b),y=t(249),w=t.n(y),E=t(38),k=E.b.current.offsetWidth>800?500:240,S=((E.b.current.offsetWidth>800?E.b.current.offsetWidth-240:E.b.current.offsetWidth)-k)/2;a.default=Object(s.withStyles)(function(e){return{mainCam:{width:"100%",display:"flex",justifyContent:"center"},button:{margin:e.spacing.unit},textFieldSmall:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:k},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:k},urls:{margin:e.spacing.unit,width:k,maxHeight:100,overflow:"auto"},cam:{width:"100%",maxWidth:500,maxHeight:500},message:{width:k,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},text_message:{width:k,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,overflow:"hidden",wordWrap:"break-word"},center:{width:k,marginLeft:S,marginRight:S}}})(Object(u.b)(function(e){return{table:e.table,user:e.user}},function(e){return{tableActions:Object(p.b)(d,e)}})(function(e){Object(l.useEffect)(Object(c.a)(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"active"===s.status&&["admin","manager","cashier","cinema"].includes(s.role)||e.history.push("/");case 1:case"end":return a.stop()}},a,this)})),[]);var a=e.tableActions,t=a.setSelected,r=a.setData,s=e.user.status,u=e.classes,p=Object(l.useState)(null),m=Object(n.a)(p,2),f=m[0],b=m[1],y=Object(l.useState)(""),E=Object(n.a)(y,2),k=E[0],S=E[1],x=["\u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d","\u043f\u0440\u043e\u0434\u0430\u043d","\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d","\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d","\u043e\u0442\u043c\u0435\u043d\u0430"],j=function(){var e=Object(c.a)(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(d.getDataSimple)({name:"\u0411\u0438\u043b\u0435\u0442\u044b\u041a\u0438\u043d\u043eHash",data:{hash:a}});case 3:void 0!=(a=e.sent)&&(S(a.status),b(a));case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),A=Object(l.useState)("environment"),O=Object(n.a)(A,2),q=O[0],L=O[1];return o.a.createElement("div",null,null===f?o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("b",null,"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(h.a,{select:!0,SelectProps:{MenuProps:{className:u.menu}},label:"\u0442\u0438\u043f \u043a\u0430\u043c\u0435\u0440\u044b",type:"login",className:u.textField,margin:"normal",value:q,onChange:function(e){L(e.target.value)}},["environment","user"].map(function(e){return o.a.createElement(g.a,{key:e,value:e},e)})),o.a.createElement("br",null),o.a.createElement("div",{className:u.mainCam},o.a.createElement(w.a,{facingMode:q,onError:function(e){console.log(e)},onScan:j,className:u.cam})),o.a.createElement("br",null)):o.a.createElement("div",{className:u.center},o.a.createElement("br",null),o.a.createElement("a",{style:{fontWeight:"bold"},href:f.ticket,target:"_blank"},"\u0411\u0438\u043b\u0435\u0442"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"Hash"),o.a.createElement("br",null),f.hash,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),o.a.createElement("br",null),"\u0438\u043c\u044f: "+f.user.name+"; email: "+f.user.email+"; id:"+f.user._id+";",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u0424\u0438\u043b\u044c\u043c"),o.a.createElement("br",null),f.movie,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u0422\u0438\u043f"),o.a.createElement("br",null),f.type,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u041a\u0438\u043d\u043e\u0442\u0435\u0430\u0442\u0440"),o.a.createElement("br",null),f.cinema,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u0417\u0430\u043b"),o.a.createElement("br",null),f.hall,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"\u041c\u0435\u0441\u0442\u0430"),o.a.createElement("br",null),f.seats.length>0?f.seats.map(function(e){return o.a.createElement(o.a.Fragment,null,"\u041c\u0435\u0441\u0442\u043e: "+e.name+" \u0426\u0435\u043d\u0430: "+e.priceSelect+" \u0414\u0430\u0442\u0430: "+e.date,o.a.createElement("br",null))}):null,o.a.createElement("br",null),o.a.createElement(h.a,{select:!0,SelectProps:{MenuProps:{className:u.menu}},label:"\u0441\u0442\u0430\u0442\u0443\u0441",type:"login",className:u.textField,margin:"normal",value:k,onChange:function(e){S(e.target.value)}},void 0!=x?x.map(function(e){return o.a.createElement(g.a,{key:e,value:e},e)}):null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(v.a,{variant:"contained",color:"primary",className:u.button,onClick:function(){r({id:f._id,search:"",sort:"",page:0,name:"\u0411\u0438\u043b\u0435\u0442\u044b",data:{status:k}}),t(-1),b(null)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(v.a,{variant:"contained",color:"secondary",className:u.button,onClick:function(){b(null)}},"\u0417\u0430\u043d\u043e\u0432\u043e"))))}))},192:function(e,a,t){"use strict";t.r(a),t.d(a,"setData",function(){return p}),t.d(a,"addData",function(){return d}),t.d(a,"setSelected",function(){return m}),t.d(a,"getIds",function(){return h}),t.d(a,"getData",function(){return f}),t.d(a,"getDataSimple",function(){return g}),t.d(a,"addDataSimple",function(){return b}),t.d(a,"deleteData",function(){return v}),t.d(a,"showLoad",function(){return y});var n=t(8),r=t.n(n),i=t(14),c=t(17),l=t(31),o=t.n(l),s=t(202),u=t.n(s);t(73);function p(e){return function(){var a=Object(i.a)(r.a.mark(function a(t){var n,i,l,s,p,d,m,h,f,g,b;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t({type:c.d,payload:!0}),(n=new u.a).append("id",e.id),n.append("search",e.search),n.append("sort",e.sort),n.append("skip",JSON.stringify(10*e.page)),n.append("name",e.name),n.append("new",JSON.stringify(e.data)),void 0!=e.oldFile&&n.append("oldFile",e.oldFile),void 0!=e.oldFileWhatermark&&n.append("oldFileWhatermark",e.oldFileWhatermark),void 0!=e.file){for(n.append("fileLength",e.file.length),l=0;l<e.file.length;l++)n.append("file"+l,e.file[l]),n.append("fileName"+l,e.file[l].name);i={accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(n._boundary),"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}}else i={accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin};return a.next=14,o.a.post("/data/add",n,{headers:i});case 14:for(s=a.sent,p=[],d=0;d<s.data.row.length;d++)p.push({name:s.data.row[d],options:{filter:!0,sort:!0}});if(m=[],"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"!=e.name)for(h=0;h<s.data.data.length;h++){for(f=[],g=0;g<s.data.data[h].length;g++)(b=s.data.data[h][g]).length>200&&(b=b.substring(0,200)+"..."),f.push(b);m.push(f)}else m=s.data.data;e={count:s.data.count,page:e.page,data:s.data.data,data1:m,row:p,search:e.search,name:e.name,sort:e.sort},t({type:c.a,payload:e}),t({type:c.d,payload:!1}),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(0),console.error(a.t0);case 27:case"end":return a.stop()}},a,this,[[0,24]])}));return function(e){return a.apply(this,arguments)}}()}function d(e){return function(){var a=Object(i.a)(r.a.mark(function a(t){var n,i,l,s,p,d,m,h,f,g,b;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t({type:c.d,payload:!0}),(n=new u.a).append("search",e.search),n.append("sort",e.sort),n.append("skip",JSON.stringify(10*e.page)),n.append("name",e.name),n.append("new",JSON.stringify(e.data)),void 0!=e.file){for(n.append("fileLength",e.file.length),l=0;l<e.file.length;l++)n.append("file"+l,e.file[l]),n.append("fileName"+l,e.file[l].name);i={accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(n._boundary),"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}}else i={accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin};return a.next=11,o.a.post("/data/add",n,{headers:i});case 11:for(s=a.sent,p=[],d=0;d<s.data.row.length;d++)p.push({name:s.data.row[d],options:{filter:!0,sort:!0}});if(m=[],"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"!=e.name)for(h=0;h<s.data.data.length;h++){for(f=[],g=0;g<s.data.data[h].length;g++)(b=s.data.data[h][g]).length>200&&(b=b.substring(0,200)+"..."),f.push(b);m.push(f)}else m=s.data.data;e={count:s.data.count,page:e.page,data:s.data.data,data1:m,row:p,search:e.search,name:e.name,sort:e.sort},t({type:c.a,payload:e}),t({type:c.d,payload:!1}),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(0),console.error(a.t0);case 24:case"end":return a.stop()}},a,this,[[0,21]])}));return function(e){return a.apply(this,arguments)}}()}function m(e){return{type:c.c,payload:e}}function h(e){return function(){var a=Object(i.a)(r.a.mark(function a(t){var n,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.d,payload:!0}),(n=new u.a).append("name",e),a.next=6,o.a.post("/data/getIds",n,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}});case 6:i=a.sent,t({type:c.b,payload:i.data}),t({type:c.d,payload:!1}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.error(a.t0);case 14:case"end":return a.stop()}},a,this,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()}function f(e){return function(){var a=Object(i.a)(r.a.mark(function a(t){var n,i,l,s,p,d,m,h,f;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(n=new u.a).append("search",e.search),n.append("sort",e.sort),n.append("skip",JSON.stringify(10*e.page)),n.append("name",e.name),a.next=8,o.a.post("/data/get",n,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}});case 8:for(i=a.sent,l=[],s=0;s<i.data.row.length;s++)l.push({name:i.data.row[s],options:{filter:!0,sort:!0}});if(p=[],"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"!=e.name)for(d=0;d<i.data.data.length;d++){for(m=[],h=0;h<i.data.data[d].length;h++)(f=i.data.data[d][h]).length>200&&(f=f.substring(0,200)+"..."),m.push(f);p.push(m)}else p=i.data.data;e={count:i.data.count,page:e.page,data:i.data.data,data1:p,row:l,search:e.search,name:e.name,sort:e.sort},t({type:c.a,payload:e}),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.error(a.t0);case 20:case"end":return a.stop()}},a,this,[[0,17]])}));return function(e){return a.apply(this,arguments)}}()}var g=function(){var e=Object(i.a)(r.a.mark(function e(a){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new u.a).append("name",a.name),void 0!==a.data&&t.append("data",JSON.stringify(a.data)),e.next=6,o.a.post("/data/get",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}});case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(r.a.mark(function e(a){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new u.a).append("name",a.name),t.append("new",JSON.stringify(a.data)),e.next=6,o.a.post("/data/add",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}});case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(a){return e.apply(this,arguments)}}();function v(e){return function(){var a=Object(i.a)(r.a.mark(function a(t){var n,i,l,s,p,d,m,h,f;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.d,payload:!0}),(n=new u.a).append("search",e.search),n.append("sort",e.sort),n.append("skip",JSON.stringify(10*e.page)),n.append("name",e.name),n.append("deleted",e.deleted),void 0!=e.oldFile&&e.oldFile.length>0&&n.append("oldFile",e.oldFile),a.next=11,o.a.post("/data/delete",n,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.userBiletikiAdmin}});case 11:for(i=a.sent,l=[],s=0;s<i.data.row.length;s++)l.push({name:i.data.row[s],options:{filter:!0,sort:!0}});if(p=[],"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"!==e.name)for(d=0;d<i.data.data.length;d++){for(m=[],h=0;h<i.data.data[d].length;h++)(f=i.data.data[d][h]).length>200&&(f=f.substring(0,200)+"..."),m.push(f);p.push(m)}else p=i.data.data;e={count:i.data.count,page:e.page,data:i.data.data,data1:p,row:l,search:e.search,name:e.name,sort:e.sort},t({type:c.a,payload:e}),t({type:c.d,payload:!1}),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(0),console.error(a.t0);case 24:case"end":return a.stop()}},a,this,[[0,21]])}));return function(e){return a.apply(this,arguments)}}()}function y(e){return{type:c.d,payload:e}}}}]);
//# sourceMappingURL=18.02820c01.chunk.js.map